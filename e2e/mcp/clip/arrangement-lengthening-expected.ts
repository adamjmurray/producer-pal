// Producer Pal
// Copyright (C) 2026 Adam Murray
// AI assistance: Claude (Anthropic)
// SPDX-License-Identifier: GPL-3.0-or-later

/**
 * Expected clip data for arrangement lengthening e2e tests (tracks 0-23).
 * Snapshot from manually verified results after lengthening all clips to 4:0.
 */

export interface ExpectedClip {
  arrangementStart: string;
  arrangementLength: string;
  start: string;
  end: string;
}

/** Convert compact [arrangementStart, arrangementLength, start, end] tuples */
function c(tuples: [string, string, string, string][]): ExpectedClip[] {
  return tuples.map(([arrangementStart, arrangementLength, start, end]) => ({
    arrangementStart,
    arrangementLength,
    start,
    end,
  }));
}

// prettier-ignore
const midiLooped: Record<number, ExpectedClip[]> = {
  0: c([["1|1","1:0","1|1","2|1"],["2|1","1:0","1|1","2|1"],["3|1","1:0","1|1","2|1"],["4|1","1:0","1|1","2|1"]]),
  1: c([["1|1","0:3","1|1","1|4"],["1|4","0:3","1|1","1|4"],["2|3","0:3","1|1","1|4"],["3|2","0:3","1|1","1|4"],["4|1","0:3","1|1","1|4"],["4|4","0:1","1|1","1|4"]]),
  2: c([["1|1","0:3","1|1","2|1"],["1|4","0:3","1|1","2|1"],["2|3","0:3","1|1","2|1"],["3|2","0:3","1|1","2|1"],["4|1","0:3","1|1","2|1"],["4|4","0:1","1|1","2|1"]]),
  3: c([["1|1","0:3","1|1","2|1"],["1|4","0:3","1|1","2|1"],["2|3","0:3","1|1","2|1"],["3|2","0:3","1|1","2|1"],["4|1","0:3","1|1","2|1"],["4|4","0:1","1|1","2|1"]]),
  4: c([["1|1","0:2","1|1","1|4"],["1|3","0:2","1|1","1|4"],["2|1","0:2","1|1","1|4"],["2|3","0:2","1|1","1|4"],["3|1","0:2","1|1","1|4"],["3|3","0:2","1|1","1|4"],["4|1","0:2","1|1","1|4"],["4|3","0:2","1|1","1|4"]]),
  5: c([["1|1","0:3","1|1","2|1"],["1|4","0:3","1|1","2|1"],["2|3","0:3","1|1","2|1"],["3|2","0:3","1|1","2|1"],["4|1","0:3","1|1","2|1"],["4|4","0:1","1|1","2|1"]]),
  6: c([["1|1","1:0","1|2","2|1"],["2|1","1:0","1|2","2|1"],["3|1","1:0","1|2","2|1"],["4|1","1:0","1|2","2|1"]]),
  7: c([["1|1","0:3","1|2","1|4"],["1|4","0:3","1|2","1|4"],["2|3","0:3","1|2","1|4"],["3|2","0:3","1|2","1|4"],["4|1","0:3","1|2","1|4"],["4|4","0:1","1|2","1|4"]]),
  8: c([["1|1","0:3","1|2","2|1"],["1|4","0:3","1|2","2|1"],["2|3","0:3","1|2","2|1"],["3|2","0:3","1|2","2|1"],["4|1","0:3","1|2","2|1"],["4|4","0:1","1|2","2|1"]]),
};

// prettier-ignore
const midiUnlooped: Record<number, ExpectedClip[]> = {
  9:  c([["1|1","1:0","1|1","5|1"],["2|1","1:0","2|1","3|1"],["3|1","1:0","3|1","4|1"],["4|1","1:0","4|1","5|1"]]),
  10: c([["1|1","0:3","1|1","5|1"],["1|4","0:3","1|4","2|3"],["2|3","0:3","2|3","3|2"],["3|2","0:3","3|2","4|1"],["4|1","0:3","4|1","4|4"],["4|4","0:1","4|4","5|1"]]),
  11: c([["1|1","0:3","1|2","5|2"],["1|4","0:3","2|1","2|4"],["2|3","0:3","2|4","3|3"],["3|2","0:3","3|3","4|2"],["4|1","0:3","4|2","5|1"],["4|4","0:1","5|1","5|2"]]),
  12: c([["1|1","0:2","1|2","5|2"],["1|3","0:2","1|4","2|2"],["2|1","0:2","2|2","2|4"],["2|3","0:2","2|4","3|2"],["3|1","0:2","3|2","3|4"],["3|3","0:2","3|4","4|2"],["4|1","0:2","4|2","4|4"],["4|3","0:2","4|4","5|2"]]),
  13: c([["1|1","1:0","1|1","5|1"],["2|1","1:0","2|1","3|1"],["3|1","1:0","3|1","4|1"],["4|1","1:0","4|1","5|1"]]),
  14: c([["1|1","0:3","1|1","5|1"],["1|4","0:3","1|4","2|3"],["2|3","0:3","2|3","3|2"],["3|2","0:3","3|2","4|1"],["4|1","0:3","4|1","4|4"],["4|4","0:1","4|4","5|1"]]),
};

// prettier-ignore
const audioLoopedWarped: Record<number, ExpectedClip[]> = {
  15: c([["1|1","2:0","1|1","3|1"],["3|1","2:0","1|1","3|1"]]),
  16: c([["1|1","2:0","1|1","3|1"],["3|1","2:0","1|1","3|1"]]),
  17: c([["1|1","1:1","1|1","3|1"],["2|2","1:1","1|1","3|1"],["3|3","1:1","1|1","3|1"],["4|4","0:1","1|1","3|1"]]),
  18: c([["1|1","1:3","1|1","3|1"],["2|4","1:3","1|1","3|1"],["4|3","0:2","1|1","3|1"]]),
  19: c([["1|1","1:3","1|1","3|1"],["2|4","1:3","1|1","3|1"],["4|3","0:2","1|1","3|1"]]),
  20: c([["1|1","1:1","1|1","3|1"],["2|2","1:1","1|1","3|1"],["3|3","1:1","1|1","3|1"],["4|4","0:1","1|1","3|1"]]),
  21: c([["1|1","2:0","1|2","3|1"],["3|1","2:0","1|2","3|1"]]),
  22: c([["1|1","2:0","1|2","3|1"],["3|1","2:0","1|2","3|1"]]),
  23: c([["1|1","1:1","1|2","3|1"],["2|2","1:1","1|2","3|1"],["3|3","1:1","1|2","3|1"],["4|4","0:1","1|2","3|1"]]),
};

/** Expected clips after lengthening to 4:0, indexed by track number */
export const expectedLengtheningClips: Record<number, ExpectedClip[]> = {
  ...midiLooped,
  ...midiUnlooped,
  ...audioLoopedWarped,
};
